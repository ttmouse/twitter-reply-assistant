# AI æœåŠ¡é…ç½®æŒ‡å—

## ğŸ¯ æ”¯æŒçš„ API æœåŠ¡å•†

æœ¬æ‰©å±•æ”¯æŒ 4 ç§ AI æœåŠ¡å•†ï¼Œéƒ½ä½¿ç”¨ OpenAI å…¼å®¹çš„ API æ ¼å¼ï¼š

### 1. SiliconFlow ï¼ˆæ¨è - æ€§ä»·æ¯”é«˜ï¼‰

**ç‰¹ç‚¹**:
- ğŸ‡¨ğŸ‡³ å›½å†…è®¿é—®å¿«
- ğŸ’° ä»·æ ¼ä¾¿å®œï¼ˆQwen ç³»åˆ—æ¨¡å‹å¾ˆå®æƒ ï¼‰
- ğŸš€ æ”¯æŒå¤šç§å¼€æºæ¨¡å‹

**è·å– API å¯†é’¥**:
1. è®¿é—®: https://cloud.siliconflow.cn
2. æ³¨å†Œ/ç™»å½•è´¦å·
3. è¿›å…¥ã€ŒAPI å¯†é’¥ã€é¡µé¢
4. ç‚¹å‡»ã€Œåˆ›å»ºæ–°å¯†é’¥ã€
5. å¤åˆ¶ç”Ÿæˆçš„å¯†é’¥ï¼ˆsk-å¼€å¤´ï¼‰

**æ¨èæ¨¡å‹**:
- `Qwen/Qwen2.5-7B-Instruct` - é€Ÿåº¦å¿«ï¼Œè´¨é‡å¥½
- `Qwen/Qwen2.5-14B-Instruct` - è´¨é‡æ›´é«˜
- `deepseek-ai/DeepSeek-V2.5` - ç»¼åˆèƒ½åŠ›å¼º

**API URL**: `https://api.siliconflow.cn/v1/chat/completions`

---

### 2. DeepSeek ï¼ˆæ¨è - æ€§èƒ½å¼ºï¼‰

**ç‰¹ç‚¹**:
- ğŸ§  æ¨ç†èƒ½åŠ›å¼º
- ğŸ’¡ ä»£ç èƒ½åŠ›ä¼˜ç§€
- ğŸ‡¨ğŸ‡³ ä¸­æ–‡æ”¯æŒå¥½

**è·å– API å¯†é’¥**:
1. è®¿é—®: https://platform.deepseek.com
2. æ³¨å†Œ/ç™»å½•è´¦å·
3. è¿›å…¥ã€ŒAPI Keysã€
4. åˆ›å»ºæ–°å¯†é’¥
5. å¤åˆ¶å¯†é’¥

**æ¨èæ¨¡å‹**:
- `deepseek-chat` - é€šç”¨å¯¹è¯æ¨¡å‹
- `deepseek-coder` - ä»£ç ä¸“ç”¨ï¼ˆå¦‚æœéœ€è¦ï¼‰

**API URL**: `https://api.deepseek.com/v1/chat/completions`

---

### 3. æ™ºè°± GLM ï¼ˆå›½å†…å¤§å‚ï¼‰

**ç‰¹ç‚¹**:
- ğŸ¢ æ¸…åå›¢é˜ŸèƒŒæ™¯
- ğŸ‡¨ğŸ‡³ ä¸­æ–‡ä¼˜åŒ–
- ğŸ“± æ”¯æŒå¤šæ¨¡æ€

**è·å– API å¯†é’¥**:
1. è®¿é—®: https://open.bigmodel.cn
2. æ³¨å†Œ/ç™»å½•
3. è¿›å…¥ã€ŒAPI Keysã€
4. åˆ›å»ºå¯†é’¥
5. å¤åˆ¶å¯†é’¥

**æ¨èæ¨¡å‹**:
- `glm-4` - æœ€æ–°ç‰ˆæœ¬
- `glm-4-flash` - æ›´å¿«ç‰ˆæœ¬

**API URL**: `https://open.bigmodel.cn/api/paas/v4/chat/completions`

---

### 4. è‡ªå®šä¹‰ï¼ˆä½¿ç”¨å…¶ä»–æœåŠ¡å•†ï¼‰

å¦‚æœä½ æœ‰å…¶ä»– OpenAI å…¼å®¹çš„ APIï¼š
- OpenRouter
- Groq
- Together AI
- æœ¬åœ°éƒ¨ç½²çš„æ¨¡å‹ï¼ˆOllama ç­‰ï¼‰

åªéœ€æä¾›å®Œæ•´çš„ API URL å’Œå¯†é’¥å³å¯ã€‚

---

## ğŸ”§ é…ç½®æ–¹æ³•

### æ–¹æ³• 1: é€šè¿‡æ§åˆ¶å°é…ç½®ï¼ˆæ¨èï¼‰

1. **æ‰“å¼€æµ‹è¯•ç•Œé¢**
   - ç‚¹å‡»æ‰©å±•å›¾æ ‡

2. **æ‰“å¼€æ§åˆ¶å°**
   - å³é”®ç‚¹å‡»å¼¹çª— â†’ ã€Œæ£€æŸ¥ã€ï¼ˆæˆ– F12ï¼‰
   - ç¡®ä¿åœ¨ Console æ ‡ç­¾

3. **è¿è¡Œé…ç½®è„šæœ¬**

æ ¹æ®ä½ é€‰æ‹©çš„æœåŠ¡å•†ï¼Œå¤åˆ¶å¯¹åº”çš„è„šæœ¬ï¼š

#### ğŸŸ¦ é…ç½® SiliconFlow

```javascript
// 1. å¯¼å…¥æœåŠ¡
const { StorageService } = await import('./services/storage-service.ts');

// 2. é…ç½® APIï¼ˆæ›¿æ¢ä¸ºä½ çš„çœŸå®å¯†é’¥ï¼‰
const config = {
  provider: 'siliconflow',
  apiUrl: 'https://api.siliconflow.cn/v1/chat/completions',
  apiToken: 'sk-ä½ çš„SiliconFlowå¯†é’¥',  // æ›¿æ¢è¿™é‡Œï¼
  model: 'Qwen/Qwen2.5-7B-Instruct'
};

// 3. ä¿å­˜é…ç½®
await StorageService.setAIConfig(config);
console.log('âœ… é…ç½®å·²ä¿å­˜ï¼');

// 4. åˆ·æ–°ç•Œé¢
location.reload();
```

#### ğŸŸ¦ é…ç½® DeepSeek

```javascript
const { StorageService } = await import('./services/storage-service.ts');

const config = {
  provider: 'deepseek',
  apiUrl: 'https://api.deepseek.com/v1/chat/completions',
  apiToken: 'sk-ä½ çš„DeepSeekå¯†é’¥',  // æ›¿æ¢è¿™é‡Œï¼
  model: 'deepseek-chat'
};

await StorageService.setAIConfig(config);
console.log('âœ… é…ç½®å·²ä¿å­˜ï¼');
location.reload();
```

#### ğŸŸ¦ é…ç½®æ™ºè°± GLM

```javascript
const { StorageService } = await import('./services/storage-service.ts');

const config = {
  provider: 'glm',
  apiUrl: 'https://open.bigmodel.cn/api/paas/v4/chat/completions',
  apiToken: 'ä½ çš„GLMå¯†é’¥',  // æ›¿æ¢è¿™é‡Œï¼
  model: 'glm-4'
};

await StorageService.setAIConfig(config);
console.log('âœ… é…ç½®å·²ä¿å­˜ï¼');
location.reload();
```

#### ğŸŸ¦ é…ç½®è‡ªå®šä¹‰æœåŠ¡

```javascript
const { StorageService } = await import('./services/storage-service.ts');

const config = {
  provider: 'custom',
  apiUrl: 'https://ä½ çš„APIåœ°å€/v1/chat/completions',
  apiToken: 'ä½ çš„APIå¯†é’¥',
  model: 'ä½ çš„æ¨¡å‹åç§°'
};

await StorageService.setAIConfig(config);
console.log('âœ… é…ç½®å·²ä¿å­˜ï¼');
location.reload();
```

---

## âœ… éªŒè¯é…ç½®

é…ç½®ä¿å­˜å¹¶åˆ·æ–°åï¼š

1. **åˆ‡æ¢åˆ°ã€Œâš™ï¸ é…ç½®çŠ¶æ€ã€æ ‡ç­¾**
   - åº”è¯¥çœ‹åˆ°ä½ çš„é…ç½®ä¿¡æ¯
   - æä¾›å•†ã€API URLã€Tokenï¼ˆéƒ¨åˆ†æ˜¾ç¤ºï¼‰ã€æ¨¡å‹

2. **å›åˆ°ã€ŒğŸ§ª åŠŸèƒ½æµ‹è¯•ã€æ ‡ç­¾**
   - **ğŸ¤– æµ‹è¯• AI æœåŠ¡** æŒ‰é’®åº”è¯¥å˜ä¸ºå¯ç‚¹å‡»çŠ¶æ€
   - ä¸å†æ˜¾ç¤º "âš ï¸ éœ€è¦å…ˆé…ç½® API" è­¦å‘Š

---

## ğŸ§ª æµ‹è¯• AI æœåŠ¡

é…ç½®å®Œæˆåï¼š

1. **ç‚¹å‡» ã€ŒğŸ¤– æµ‹è¯• AI æœåŠ¡ã€æŒ‰é’®**

2. **ç­‰å¾…æµ‹è¯•ç»“æœ**ï¼ˆå¯èƒ½éœ€è¦ 3-10 ç§’ï¼‰

3. **é¢„æœŸè¾“å‡º**:
```
æµ‹è¯• API è¿æ¥...
âœ… API è¿æ¥æˆåŠŸï¼å»¶è¿Ÿ: 1234ms

ç”Ÿæˆæµ‹è¯•å›å¤...
âœ… å›å¤ç”ŸæˆæˆåŠŸï¼

åŸæ¨æ–‡: "ä»Šå¤©å¤©æ°”çœŸå¥½ï¼â˜€ï¸"
AI å›å¤: "æ˜¯å•Šï¼Œå¯æƒœæˆ‘åœ¨åŠå…¬å®¤çœ‹ä¸åˆ° ğŸ˜¢"

å­—ç¬¦æ•°: 18/120
```

---

## ğŸ¨ æµ‹è¯•ä¸åŒçš„å›å¤é£æ ¼

åœ¨æ§åˆ¶å°ä¸­è¿è¡Œï¼Œæµ‹è¯•æ‰€æœ‰ 6 ç§é£æ ¼ï¼š

```javascript
// å¯¼å…¥æœåŠ¡
const { AIService } = await import('./services/ai-service.ts');

// æµ‹è¯•æ¨æ–‡
const testTweet = 'ä»Šå¤©å­¦åˆ°äº†å¾ˆå¤šå…³äº AI çš„çŸ¥è¯†';

// æ‰€æœ‰é£æ ¼
const styles = [
  'professional',   // ğŸ’¼ ä¸“ä¸šä¸¥è°¨
  'humorous',       // ğŸ˜„ å¹½é»˜é£è¶£
  'concise',        // âœ¨ ç®€æ´æ˜äº†
  'supportive',     // ğŸ‘ å‹å¥½æ”¯æŒ
  'critical',       // ğŸ¤” æ‰¹åˆ¤æ€§æ€è€ƒ
  'questioning'     // â“ æé—®å¼•å¯¼
];

// æ‰¹é‡æµ‹è¯•
console.log('å¼€å§‹æµ‹è¯•æ‰€æœ‰é£æ ¼...\n');
for (const style of styles) {
  console.log(`ğŸ¯ é£æ ¼: ${style}`);
  try {
    const reply = await AIService.generateReply(testTweet, style);
    console.log(`âœ… ${reply}\n`);
  } catch (error) {
    console.error(`âŒ é”™è¯¯: ${error.message}\n`);
  }
}
console.log('æµ‹è¯•å®Œæˆï¼');
```

---

## ğŸ’° è´¹ç”¨è¯´æ˜

### SiliconFlow å‚è€ƒä»·æ ¼
- Qwen2.5-7B-Instruct: ï¿¥0.00105 / 1K tokens
- ç”Ÿæˆä¸€æ¡å›å¤å¤§çº¦æ¶ˆè€— 200-500 tokens
- **æ¯æ¡å›å¤æˆæœ¬çº¦ ï¿¥0.0002-0.0005ï¼ˆä¸åˆ°ä¸€åˆ†é’±ï¼‰**

### DeepSeek å‚è€ƒä»·æ ¼
- DeepSeek-Chat: ï¿¥0.001 / 1K tokensï¼ˆè¾“å…¥ï¼‰
- **æˆæœ¬ä¹Ÿéå¸¸ä½**

### æ–°ç”¨æˆ·ç¦åˆ©
- SiliconFlow: æ–°ç”¨æˆ·é€šå¸¸æœ‰å…è´¹é¢åº¦
- DeepSeek: æ³¨å†Œé€ 500 ä¸‡ tokens
- GLM: æœ‰å…è´¹é¢åº¦

---

## ğŸ› å¸¸è§é—®é¢˜

### Q1: é…ç½®ä¿å­˜åæŒ‰é’®è¿˜æ˜¯ç¦ç”¨ï¼Ÿ

**è§£å†³**: ç¡®ä¿åˆ·æ–°äº†ç•Œé¢
```javascript
location.reload();  // è¿è¡Œè¿™ä¸ªåˆ·æ–°
```

### Q2: ç‚¹å‡»æµ‹è¯•åæ˜¾ç¤º "API è¿æ¥å¤±è´¥"ï¼Ÿ

**å¯èƒ½åŸå› **:
1. **API å¯†é’¥é”™è¯¯** - æ£€æŸ¥å¯†é’¥æ˜¯å¦æ­£ç¡®å¤åˆ¶
2. **ç½‘ç»œé—®é¢˜** - æ£€æŸ¥ç½‘ç»œè¿æ¥
3. **ä½™é¢ä¸è¶³** - æ£€æŸ¥è´¦æˆ·ä½™é¢
4. **æ¨¡å‹åç§°é”™è¯¯** - ç¡®è®¤æ¨¡å‹åç§°æ­£ç¡®

### Q3: å¦‚ä½•æŸ¥çœ‹å½“å‰é…ç½®ï¼Ÿ

```javascript
const { StorageService } = await import('./services/storage-service.ts');
const config = await StorageService.getAIConfig();
console.log('å½“å‰é…ç½®:', config);
```

### Q4: å¦‚ä½•ä¿®æ”¹é…ç½®ï¼Ÿ

é‡æ–°è¿è¡Œé…ç½®è„šæœ¬å³å¯ï¼Œä¼šè¦†ç›–æ—§é…ç½®ã€‚

### Q5: å¦‚ä½•åˆ é™¤é…ç½®ï¼Ÿ

ç‚¹å‡»æµ‹è¯•ç•Œé¢çš„ **ğŸ—‘ï¸ æ¸…é™¤é…ç½®** æŒ‰é’®ï¼Œæˆ–åœ¨æ§åˆ¶å°è¿è¡Œï¼š
```javascript
const { StorageService } = await import('./services/storage-service.ts');
await StorageService.clearAIConfig();
console.log('âœ… é…ç½®å·²æ¸…é™¤');
location.reload();
```

---

## ğŸ“Š æ€§èƒ½åŸºå‡†æµ‹è¯•

åœ¨æ§åˆ¶å°è¿è¡Œæ€§èƒ½æµ‹è¯•ï¼š

```javascript
const { AIService } = await import('./services/ai-service.ts');

console.log('å¼€å§‹æ€§èƒ½æµ‹è¯•...');
const testTweet = 'æµ‹è¯•æ¨æ–‡';
const runs = 3;

let totalTime = 0;

for (let i = 1; i <= runs; i++) {
  const start = performance.now();
  await AIService.generateReply(testTweet, 'concise');
  const duration = performance.now() - start;

  totalTime += duration;
  console.log(`ç¬¬ ${i} æ¬¡: ${duration.toFixed(0)}ms`);
}

const avgTime = totalTime / runs;
console.log(`\nå¹³å‡å“åº”æ—¶é—´: ${avgTime.toFixed(0)}ms`);
console.log(`é¢„ä¼° QPS: ${(1000 / avgTime).toFixed(2)}`);
```

---

## ğŸ”’ å®‰å…¨æç¤º

1. **ä¸è¦åˆ†äº« API å¯†é’¥**
   - å¯†é’¥å°±åƒå¯†ç ï¼Œä¸è¦ç»™åˆ«äºº

2. **ä¸è¦æäº¤åˆ° Git**
   - å¯†é’¥åªä¿å­˜åœ¨æµè§ˆå™¨æœ¬åœ°
   - ä¸ä¼šè¢«æäº¤åˆ°ä»£ç ä»“åº“

3. **å®šæœŸè½®æ¢å¯†é’¥**
   - å»ºè®®å®šæœŸæ›´æ¢ API å¯†é’¥

4. **ç›‘æ§ä½¿ç”¨é‡**
   - å®šæœŸæ£€æŸ¥ API æœåŠ¡å•†çš„ä½¿ç”¨ç»Ÿè®¡

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- å®Œæ•´æµ‹è¯•æŒ‡å—: `TESTING_GUIDE.md`
- å¿«é€Ÿæµ‹è¯•: `QUICK_TEST.md`
- ç±»å‹å®šä¹‰: `src/types/index.ts`
- AI æœåŠ¡ä»£ç : `src/services/ai-service.ts`

---

**ç°åœ¨å°±å»æ³¨å†Œä¸€ä¸ª API æœåŠ¡å•†ï¼Œè·å–å¯†é’¥ï¼Œç„¶åæµ‹è¯• AI åŠŸèƒ½å§ï¼** ğŸš€

æ¨èä» **SiliconFlow** å¼€å§‹ï¼Œæ³¨å†Œå¿«ã€å…è´¹é¢åº¦å¤šã€é€Ÿåº¦å¿«ï¼
