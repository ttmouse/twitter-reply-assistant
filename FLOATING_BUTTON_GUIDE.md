# 悬浮按钮使用指南

## 功能介绍

为了解决发推文时扩展入口按钮不显示的问题，我们添加了一个右侧悬浮按钮作为备选方案。即使主注入失败，您也可以通过悬浮按钮使用AI扩写功能。

## 使用方法

### 1. 查看悬浮按钮

1. 打开Twitter首页
2. 点击"发布"按钮打开发布框
3. 在页面右侧（底部偏上位置）会出现一个蓝色圆形悬浮按钮

### 2. 使用AI扩写功能

1. 点击悬浮按钮，会展开一个面板
2. 在发布框中输入简短的文本
3. 在悬浮面板中选择扩写风格
4. AI会自动扩写您的文本

## 调试工具

如果悬浮按钮没有出现，您可以使用以下调试工具：

### 在控制台中运行

打开浏览器控制台(F12)，然后运行以下命令：

```javascript
// 测试悬浮按钮功能
testFloatingButton()

// 创建测试按钮（如果悬浮按钮不工作）
createTestButton()
```

### 手动重新注入

如果悬浮按钮未出现，尝试手动重新注入：

```javascript
// 重新注入所有组件
window.twitterAIReply.reinject()

// 仅重新注入悬浮按钮
window.twitterAIReply.reinjectFloating()
```

## 功能特点

- **自动检测**：只有当检测到发布框时才显示悬浮按钮
- **不干扰界面**：悬浮按钮位于页面右侧，不会遮挡主要内容
- **响应式设计**：点击按钮展开面板，不使用时收起
- **多种风格**：支持多种AI扩写风格
- **易于访问**：始终可见，无需在工具栏中寻找

## 常见问题

### Q: 悬浮按钮没有出现？
A: 请确保：
1. 已在Twitter首页打开发布框
2. 扩展已正确配置API
3. 运行 `testFloatingButton()` 进行诊断

### Q: 悬浮按钮点击后没有反应？
A: 尝试：
1. 刷新页面重试
2. 检查发布框是否已打开
3. 运行 `window.twitterAIReply.reinject()` 重新注入

### Q: 悬浮按钮遮挡了内容？
A: 悬浮按钮位于页面右侧，通常不会遮挡主要内容。如果有影响，可以点击关闭按钮收起面板。

## 开发者信息

悬浮按钮由以下文件实现：
- `src/components/FloatingButton.tsx` - 悬浮按钮组件
- `src/content/floating-injector.tsx` - 悬浮按钮注入器
- `src/utils/test-floating.ts` - 测试工具

## 反馈

如果您使用过程中遇到任何问题，请提供以下信息：
1. 浏览器和版本
2. 是否能看到悬浮按钮
3. 控制台是否有错误信息
4. `testFloatingButton()` 的输出结果